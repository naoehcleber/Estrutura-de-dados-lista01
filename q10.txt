O código está errado pois a variável "temp" foi definida como um ponteiro ao invés de uma variavel inteira comum.